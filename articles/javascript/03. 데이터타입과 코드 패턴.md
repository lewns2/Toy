# 모던 자바스크립트 Deep Dive Ch.5 ~ Ch.9

**데이터 타입**

자바스크립트(ES6)는 7개의 데이터 타입을 제공한다.

크게 원시 타입과 객체 타입으로 분류한다. 윈시 타입으로 숫자, 문자열, 불리언, undefined, null, 심벌 타입이 있고, 객체 타입이 존재한다.

**데이터 타입의 필요성**

1. 데이터 타입에 의한 메모리 공간의 확보와 참조

   → 값을 저장하려면 메모리 공간의 크기를 결정해야한다. 그렇기 때문에 타입을 통해 낭비와 손실없이 공간을확보할 수 있다.

2. 데이터 타입에 의한 값의 해석

   → 메모리에는 값이 2진수로 저장된다. 이 때문에 타입이 없다면 숫자 65인지, 문자열 ’A’인지 알 수 없다.

**템플릿 리터럴**

ES6부터 도입된 템플릿 리터럴은 편리한 문자열 처리 기능을 제공한다.

백틱(``)을 사용해 표현하며 멀티라인 문자열, 표현식 삽입, 태그드 템플릿 등을 할 수 있다.

멀티라인 문자열 예시(줄바꿈)

```jsx
// 기존 방식
var template = "Hello\nWorld";

// ES6 : 멀티라인 문자열
var template = `Hello
World`;
```

표현식 삽입 예시

```jsx
var first = "DongHyun";
var last = "KIM";

// 기존 방식
console.log("My name is " + first + last);

// ES6 : 표현식 삽입
console.log(`My name is ${first} ${last}`);
```

**심벌 타입**

심벌은 다른 값과 중복되지 않는 유일한 값이며 변경 불가능한 원시 타입의 값이다. 따라서 주로 이름이 충돌할 위험이 없는 객체의 유일한 프로퍼티 키를 만들기위해 사용한다.

심벌 사용 예시 : 객체의 프로퍼티 키로 사용

```jsx
var key = Symbol("key");
var obj = {};

obj[key] = "value";
console.log(obj[key]);
```

**자바스크립트의 특징**

- **자바스크립트는 대소문자를 구별한다.**

예를 들어, NaN을 NAN, nan과 같이 표현하면 에러가 발생한다.

- **자바스크립트의 undefined에 대하여**

undefined는 자바스크립트 엔진이변수를 초기화할 때 사용하는 값이다.그렇기 때문에 이를 통해 초기화되지 않은 변수라는 것을 파악할 수 있다.그래서 개발자가 의도적으로 변수에 undefined를 할당을 하게 되면 혼란을 줄 수 있으므로 지양한다.만약, 변수에 값이 없다는 것을 명시하고 싶을 때는 null을 할당한다.

- **자바스크립트는 동적 타입 언어이다.**

변수는 선언이 아닌 값의 할당에 의해 타입이 결정된다. (자바스크립트엔진이 타입을 추론한다.) 또, 재할당에 의해 언제든 타입이 변경될 수 있다.

예를 들어, C에서는 int num과 같이 num에 int형 만의 값이 올 수 있지만, 자바스크립트는 var foo를 선언한 뒤, foo에 넣는 값에 따라 타입이 변한다.

이런 동적 타입은 유연하고 편리함과 동시에 코드의 신뢰성이 떨어진다.

왜냐하면, 복잡한 프로그램에서 변화하는 변수 값을 추적하기 어렵고, 개발자의 의도와 상관없이 암묵적으로 타입이 자동으로 변환될 가능성이 있기 때문이다.

그렇기 때문에, 이러한 동적 타입 언어를 다룰 때 개발자는 아래와 같은 사항들을 지키며 코드를 작성해야한다.

- 변수의 꼭 필요한 경우에 한해 제한적 사용
- 전역 변수 사용을 최대한 지양하고, 변수의 범위(스코프)를 최대한 좁게 만든다.
- 변수보다는 상수(const)를 통해 값의 변경의 억제
- 변수 이름을 목적이나 의미가 나타나게 네이밍

**자바스크립트 코드 패턴**

**if…else문 vs 삼항 조건 연산자**

조건에 따라 어떤 값을 결정해야 한다면 if…eles 문보다 삼항 조건 연산자 표현식을 사용하는 편이 유리하다.

왜냐하면 if…else문은 “**값”**처럼 사용할 수 없기때문이다.

예시.

```jsx
var x = 2,
  res;

if (x % 2) res = "홀수";
else res = "짝수";
```

```jsx
var x = 2;
var res = x % 2 ? "홀수" : "짝수";
```

**단축 평가**

단축 평가는 표현식을 평가하는 도중에 평가결과가 확정된 경우 나머지 평과 과정을 생략하는 것을 말한다.

**단축 평가의 패턴들**

변수 값을 다른 변수에 할당할 때 소스 변수가 null이거나 정의되지 않았거나 비어 있지 않은지 확인할 수 있다.

```jsx
if (variable1 !== null || variable1 !== undefined || variable1 !== "") {
  let variable2 = variable1;
}
```

```jsx
const variable2 = variable1 || "new";
```

의도한 매개변수가 null이거나 정의되지 않은 경우 기본값을 할당하기 위해 6줄의 코드를 작성하는 대신 단락 논리 연산자를 사용하고 단 한 줄의 코드로 동일한 작업을 수행할 수 있다.

```jsx
let dbHost;
if (process.env.DB_HOST) {
  dbHost = process.env.DB_HOST;
} else {
  dbHost = "localhost";
}
```

```jsx
const dbHost = process.env.DB_HOST || "localhost";
```

객체가 가리키기를 기대하는 변수가 null 또는 undefined가 아닌지 확인하고 프로터피를 참조할 때

```jsx
var elem = null;
var value = elem.value; // 타입 에러 발생
```

```jsx
var elem = null;
var value = elem && elem.value; // null
```

함수 매개변수에 기본값을 설정할 때 (매개변수 기본값이 없다면 undefined가 할당되어 에러 발생 가능성 존재)

```jsx
// 단축 평가를 사용한 매개변수의 기본값 설정

function getStringLen(str) {
  str = str || "";
  return str.length();
}
```

```jsx
// ES6의 매개변수의 기본값 설정
function getStringLen(str = "") {
  return str.length();
}
```

참고하면 좋은 사이트

\***\*[25+ JavaScript Shorthand Coding Techniques](https://www.sitepoint.com/shorthand-javascript-techniques/)\*\***

\***\*[Top 10 ES6 Features Every Javascript Developer Must Know](https://medium.com/@kavisha.talsania/top-10-es6-features-every-javascript-developer-must-know-4c81ec54bbcd)\*\***
