{"ast":null,"code":"var _jsxFileName = \"/Users/donghyun/Desktop/lewns2/src/pages/CarListPage/CarListPage.jsx\",\n    _s = $RefreshSig$();\n\nimport Products from './Products';\nimport { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport Container from '../../components/Container';\nimport Top from '../../components/Top';\nimport CarouselWrapper from '../../components/CarouselWrapper';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst url = `http://localhost:8080/carClasses`;\n\nconst CarListPage = () => {\n  _s();\n\n  const [items, setItems] = useState([]);\n  const [offset, setOffset] = useState(1);\n  const [maxPage, setMaxPage] = useState(0);\n  const [isVisible, isSetVisible] = useState(true);\n  /* 페이지 렌더링 시, 최초 요청 */\n\n  useEffect(() => {\n    loadItems();\n  }, []);\n  /* 모든 차량 조회 시, 더보기 버튼 숨기기 */\n\n  useEffect(() => {\n    if (offset === maxPage) {\n      isSetVisible(false);\n    }\n  }, [offset, maxPage]);\n\n  const loadItems = async () => {\n    try {\n      let res = await axios.get(url);\n      setItems(res.data);\n      setMaxPage(Math.ceil(res.data.length / 5));\n    } catch (err) {\n      alert(err);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(Container, {\n    children: [/*#__PURE__*/_jsxDEV(Top, {\n      \"data-testid\": \"page-title\",\n      children: \"\\uCC28\\uB7C9 \\uB9AC\\uC2A4\\uD2B8\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(CarouselWrapper, {\n      children: [/*#__PURE__*/_jsxDEV(Top2, {\n        children: \"\\uD2B9\\uAC00 \\uCC28\\uB7C9\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Products, {\n        items: items,\n        offset: offset\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(Top2, {\n        children: \"\\uBAA8\\uB4E0 \\uCC28\\uB7C9\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Products, {\n        items: items,\n        offset: offset\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      \"data-testid\": \"more-button\",\n      style: {\n        display: isVisible ? '' : 'none'\n      },\n      onClick: () => setOffset(offset => offset + 1),\n      children: \"\\uB354\\uBCF4\\uAE30\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 40,\n    columnNumber: 5\n  }, this);\n};\n\n_s(CarListPage, \"DRanHNiqG53ntGntWikglrEu+pk=\");\n\n_c = CarListPage;\nexport default CarListPage;\n\nvar _c;\n\n$RefreshReg$(_c, \"CarListPage\");","map":{"version":3,"names":["Products","useState","useEffect","axios","Container","Top","CarouselWrapper","url","CarListPage","items","setItems","offset","setOffset","maxPage","setMaxPage","isVisible","isSetVisible","loadItems","res","get","data","Math","ceil","length","err","alert","display"],"sources":["/Users/donghyun/Desktop/lewns2/src/pages/CarListPage/CarListPage.jsx"],"sourcesContent":["import Products from './Products';\nimport { useState, useEffect } from 'react';\nimport axios from 'axios';\n\nimport Container from '../../components/Container';\nimport Top from '../../components/Top';\nimport CarouselWrapper from '../../components/CarouselWrapper';\n\nconst url = `http://localhost:8080/carClasses`;\n\nconst CarListPage = () => {\n  const [items, setItems] = useState([]);\n  const [offset, setOffset] = useState(1);\n  const [maxPage, setMaxPage] = useState(0);\n  const [isVisible, isSetVisible] = useState(true);\n\n  /* 페이지 렌더링 시, 최초 요청 */\n  useEffect(() => {\n    loadItems();\n  }, []);\n\n  /* 모든 차량 조회 시, 더보기 버튼 숨기기 */\n  useEffect(() => {\n    if (offset === maxPage) {\n      isSetVisible(false);\n    }\n  }, [offset, maxPage]);\n\n  const loadItems = async () => {\n    try {\n      let res = await axios.get(url);\n      setItems(res.data);\n      setMaxPage(Math.ceil(res.data.length / 5));\n    } catch (err) {\n      alert(err);\n    }\n  };\n\n  return (\n    <Container>\n      <Top data-testid=\"page-title\">차량 리스트</Top>\n      <CarouselWrapper>\n        <Top2>특가 차량</Top2>\n        <Products items={items} offset={offset} />\n      </CarouselWrapper>\n      <div>\n        <Top2>모든 차량</Top2>\n        <Products items={items} offset={offset} />\n      </div>\n      <button\n        data-testid=\"more-button\"\n        style={{ display: isVisible ? '' : 'none' }}\n        onClick={() => setOffset((offset) => offset + 1)}>\n        더보기\n      </button>\n    </Container>\n  );\n};\nexport default CarListPage;\n"],"mappings":";;;AAAA,OAAOA,QAAP,MAAqB,YAArB;AACA,SAASC,QAAT,EAAmBC,SAAnB,QAAoC,OAApC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,OAAOC,SAAP,MAAsB,4BAAtB;AACA,OAAOC,GAAP,MAAgB,sBAAhB;AACA,OAAOC,eAAP,MAA4B,kCAA5B;;AAEA,MAAMC,GAAG,GAAI,kCAAb;;AAEA,MAAMC,WAAW,GAAG,MAAM;EAAA;;EACxB,MAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBT,QAAQ,CAAC,EAAD,CAAlC;EACA,MAAM,CAACU,MAAD,EAASC,SAAT,IAAsBX,QAAQ,CAAC,CAAD,CAApC;EACA,MAAM,CAACY,OAAD,EAAUC,UAAV,IAAwBb,QAAQ,CAAC,CAAD,CAAtC;EACA,MAAM,CAACc,SAAD,EAAYC,YAAZ,IAA4Bf,QAAQ,CAAC,IAAD,CAA1C;EAEA;;EACAC,SAAS,CAAC,MAAM;IACde,SAAS;EACV,CAFQ,EAEN,EAFM,CAAT;EAIA;;EACAf,SAAS,CAAC,MAAM;IACd,IAAIS,MAAM,KAAKE,OAAf,EAAwB;MACtBG,YAAY,CAAC,KAAD,CAAZ;IACD;EACF,CAJQ,EAIN,CAACL,MAAD,EAASE,OAAT,CAJM,CAAT;;EAMA,MAAMI,SAAS,GAAG,YAAY;IAC5B,IAAI;MACF,IAAIC,GAAG,GAAG,MAAMf,KAAK,CAACgB,GAAN,CAAUZ,GAAV,CAAhB;MACAG,QAAQ,CAACQ,GAAG,CAACE,IAAL,CAAR;MACAN,UAAU,CAACO,IAAI,CAACC,IAAL,CAAUJ,GAAG,CAACE,IAAJ,CAASG,MAAT,GAAkB,CAA5B,CAAD,CAAV;IACD,CAJD,CAIE,OAAOC,GAAP,EAAY;MACZC,KAAK,CAACD,GAAD,CAAL;IACD;EACF,CARD;;EAUA,oBACE,QAAC,SAAD;IAAA,wBACE,QAAC,GAAD;MAAK,eAAY,YAAjB;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QADF,eAEE,QAAC,eAAD;MAAA,wBACE,QAAC,IAAD;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QADF,eAEE,QAAC,QAAD;QAAU,KAAK,EAAEf,KAAjB;QAAwB,MAAM,EAAEE;MAAhC;QAAA;QAAA;QAAA;MAAA,QAFF;IAAA;MAAA;MAAA;MAAA;IAAA,QAFF,eAME;MAAA,wBACE,QAAC,IAAD;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QADF,eAEE,QAAC,QAAD;QAAU,KAAK,EAAEF,KAAjB;QAAwB,MAAM,EAAEE;MAAhC;QAAA;QAAA;QAAA;MAAA,QAFF;IAAA;MAAA;MAAA;MAAA;IAAA,QANF,eAUE;MACE,eAAY,aADd;MAEE,KAAK,EAAE;QAAEe,OAAO,EAAEX,SAAS,GAAG,EAAH,GAAQ;MAA5B,CAFT;MAGE,OAAO,EAAE,MAAMH,SAAS,CAAED,MAAD,IAAYA,MAAM,GAAG,CAAtB,CAH1B;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QAVF;EAAA;IAAA;IAAA;IAAA;EAAA,QADF;AAmBD,CA/CD;;GAAMH,W;;KAAAA,W;AAgDN,eAAeA,WAAf"},"metadata":{},"sourceType":"module"}