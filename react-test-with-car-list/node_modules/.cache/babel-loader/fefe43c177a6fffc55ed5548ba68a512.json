{"ast":null,"code":"/* 특가 차량 무한 캐로셀 로직 : ( 절반 - 한개 - 절반 ) \n  - 1개의 길이 : 캐로셀 전체 길이 / 2 (carouselRef.current.clientWidth / 2)\n  - 초기 시작 위치 : (carouselRef.current.clientWidth / 4)\n  - 이동 거리 : 1개의 길이 만큼 이동, translate(-${carouselCurrentPosition}px)\n  - 무한 스크롤을 위해 리스트 추가 한 뒤, 슬라이더 바꿔치기 (마지막 슬라이더 -> 첫번째 슬라이더) : transition-timing-function: step-end 속성을 활용 */export function handleCarouselWork(carouselRef,carouselSize,carouselCurrentPosition,setCarouselCurrentPosition,loop,setLoop){// 캐로셀 전체 길이를 벗어난 경우, 일시적으로 이동 효과를 제거한 뒤, 현재 위치를 시작 위치로 변경.\nif(typeof carouselCurrentPosition=='undefined'){carouselRef.current.style='transition-timing-function: step-end; transform : translate(-105px)';setCarouselCurrentPosition(carouselRef.current.clientWidth/4);}// caroulseLoop 함수에 의해, 3초마다 상품 하나의 길이 만큼 -x로 이동한다.\nelse{carouselRef.current.style=\"transform : translate(-\".concat(carouselCurrentPosition,\"px)\");}// 이동해야할 위치를 계산한다.\nvar caroulselLoop=setTimeout(function(){setCarouselCurrentPosition(function(prev){if(prev<=carouselRef.current.clientWidth/2*carouselSize){return prev+carouselRef.current.clientWidth/2;}else return;});},3000);setLoop(caroulselLoop);return clearTimeout(loop);}export default handleCarouselWork;","map":{"version":3,"names":["handleCarouselWork","carouselRef","carouselSize","carouselCurrentPosition","setCarouselCurrentPosition","loop","setLoop","current","style","clientWidth","caroulselLoop","setTimeout","prev","clearTimeout"],"sources":["/Users/donghyun/Desktop/lewns2/src/pages/CarListPage/CarList/Carousel/handleCarouselWork.js"],"sourcesContent":["/* 특가 차량 무한 캐로셀 로직 : ( 절반 - 한개 - 절반 ) \n  - 1개의 길이 : 캐로셀 전체 길이 / 2 (carouselRef.current.clientWidth / 2)\n  - 초기 시작 위치 : (carouselRef.current.clientWidth / 4)\n  - 이동 거리 : 1개의 길이 만큼 이동, translate(-${carouselCurrentPosition}px)\n  - 무한 스크롤을 위해 리스트 추가 한 뒤, 슬라이더 바꿔치기 (마지막 슬라이더 -> 첫번째 슬라이더) : transition-timing-function: step-end 속성을 활용 */\n\nexport function handleCarouselWork(\n  carouselRef,\n  carouselSize,\n  carouselCurrentPosition,\n  setCarouselCurrentPosition,\n  loop,\n  setLoop,\n) {\n  // 캐로셀 전체 길이를 벗어난 경우, 일시적으로 이동 효과를 제거한 뒤, 현재 위치를 시작 위치로 변경.\n  if (typeof carouselCurrentPosition == 'undefined') {\n    carouselRef.current.style =\n      'transition-timing-function: step-end; transform : translate(-105px)';\n    setCarouselCurrentPosition(carouselRef.current.clientWidth / 4);\n  }\n  // caroulseLoop 함수에 의해, 3초마다 상품 하나의 길이 만큼 -x로 이동한다.\n  else {\n    carouselRef.current.style = `transform : translate(-${carouselCurrentPosition}px)`;\n  }\n\n  // 이동해야할 위치를 계산한다.\n  const caroulselLoop = setTimeout(() => {\n    setCarouselCurrentPosition((prev) => {\n      if (prev <= (carouselRef.current.clientWidth / 2) * carouselSize) {\n        return prev + carouselRef.current.clientWidth / 2;\n      } else return;\n    });\n  }, 3000);\n\n  setLoop(caroulselLoop);\n  return clearTimeout(loop);\n}\n\nexport default handleCarouselWork;\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA,4GAEA,MAAO,SAASA,mBAAT,CACLC,WADK,CAELC,YAFK,CAGLC,uBAHK,CAILC,0BAJK,CAKLC,IALK,CAMLC,OANK,CAOL,CACA;AACA,GAAI,MAAOH,wBAAP,EAAkC,WAAtC,CAAmD,CACjDF,WAAW,CAACM,OAAZ,CAAoBC,KAApB,CACE,qEADF,CAEAJ,0BAA0B,CAACH,WAAW,CAACM,OAAZ,CAAoBE,WAApB,CAAkC,CAAnC,CAA1B,CACD,CACD;AALA,IAMK,CACHR,WAAW,CAACM,OAAZ,CAAoBC,KAApB,kCAAsDL,uBAAtD,QACD,CAED;AACA,GAAMO,cAAa,CAAGC,UAAU,CAAC,UAAM,CACrCP,0BAA0B,CAAC,SAACQ,IAAD,CAAU,CACnC,GAAIA,IAAI,EAAKX,WAAW,CAACM,OAAZ,CAAoBE,WAApB,CAAkC,CAAnC,CAAwCP,YAApD,CAAkE,CAChE,MAAOU,KAAI,CAAGX,WAAW,CAACM,OAAZ,CAAoBE,WAApB,CAAkC,CAAhD,CACD,CAFD,IAEO,QACR,CAJyB,CAA1B,CAKD,CAN+B,CAM7B,IAN6B,CAAhC,CAQAH,OAAO,CAACI,aAAD,CAAP,CACA,MAAOG,aAAY,CAACR,IAAD,CAAnB,CACD,CAED,cAAeL,mBAAf"},"metadata":{},"sourceType":"module"}