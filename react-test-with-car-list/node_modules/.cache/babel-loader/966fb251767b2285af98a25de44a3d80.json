{"ast":null,"code":"var _jsxFileName = \"/Users/donghyun/Desktop/lewns2/src/pages/CarListPage/CarListPage.jsx\",\n    _s = $RefreshSig$();\n\nimport { useState, useEffect, useRef } from 'react';\nimport axios from 'axios';\nimport Products from './Products';\nimport CarDetail from './CarDetail';\nimport Container from '../../components/Container';\nimport Top from '../../components/Top';\nimport Top2 from '../../components/Top2';\nimport Carousel from '../../components/Carousel';\nimport AllVehicles from '../../components/AllVehicles';\nimport Modal from '../../components/Modal';\nimport MoreButton from '../../components/MoreButton';\nimport handleOffset from './MoreButton/handleOffset';\nimport handleCarouselInitSetting from './Carousel/handleCarouselInitSetting';\nimport handleCarouselWork from './Carousel/handleCarouselWork';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst url = `http://localhost:8080/carClasses`;\n\nconst CarListPage = () => {\n  _s();\n\n  const [items, setItems] = useState([]);\n  const [offset, setOffset] = useState(1);\n  const [maxPage, setMaxPage] = useState(0);\n  const [isVisible, setIsVisible] = useState(true);\n  /* 캐로셀 데이터 */\n\n  const carouselRef = useRef();\n  const [carouselCurrentPosition, setCarouselCurrentPosition] = useState();\n  const [loop, setLoop] = useState(0);\n  const [carouselSize, setCarouselSize] = useState();\n  const [carouselWidth, setCarouselWidth] = useState();\n  const [oneWidth, setOneWidth] = useState();\n  /* 모달 */\n\n  const [showModal, setShowModal] = useState(0);\n  const [carId, setCarId] = useState(0);\n  /* 페이지 렌더링 시, 최초 요청 */\n\n  useEffect(() => {\n    loadItems();\n  }, []);\n  /* 캐로셀 전체 길이, 한 상품의 길이, 초기 시작 위치 설정 */\n\n  useEffect(() => {\n    handleCarouselInitSetting(setCarouselWidth, carouselRef, setOneWidth, carouselWidth, setCarouselCurrentPosition, oneWidth);\n  }, [carouselWidth, carouselSize]);\n  /* 특가 차량 무한 캐로셀 로직 */\n\n  useEffect(() => {\n    handleCarouselWork(carouselRef, setCarouselCurrentPosition, oneWidth, carouselCurrentPosition, carouselSize, setLoop, loop);\n  }, [carouselCurrentPosition]);\n  /* Dim 영역의 스크롤을 방지하기 위해 Body에 overflow 속성 변경 */\n\n  useEffect(() => {\n    const body = document.getElementsByTagName('body')[0];\n\n    if (showModal) {\n      body.style.overflow = 'hidden';\n    } else {\n      body.style = '';\n    }\n  }, [showModal]);\n  /* 모든 차량 조회 시, 더보기 버튼 숨기기 */\n\n  useEffect(() => {\n    handleOffset(offset, maxPage, setIsVisible);\n  }, [offset, maxPage]);\n\n  const loadItems = async () => {\n    try {\n      let res = await axios.get(url);\n      setItems(res.data);\n      setMaxPage(Math.ceil(res.data.length / 5));\n    } catch (err) {\n      alert(err);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(Container, {\n    children: [/*#__PURE__*/_jsxDEV(Top, {\n      \"data-testid\": \"page-title\",\n      children: \"\\uCC28\\uB7C9 \\uB9AC\\uC2A4\\uD2B8\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Top2, {\n      children: \"\\uD2B9\\uAC00 \\uCC28\\uB7C9\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Carousel, {\n      carouselRef: carouselRef,\n      children: /*#__PURE__*/_jsxDEV(Products, {\n        items: items,\n        offset: offset,\n        type: \"specialPriceList\",\n        oneWidth: oneWidth,\n        setCarouselSize: setCarouselSize,\n        carouselWidth: carouselWidth\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Top2, {\n      children: \"\\uBAA8\\uB4E0 \\uCC28\\uB7C9\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(AllVehicles, {\n      children: /*#__PURE__*/_jsxDEV(Products, {\n        items: items,\n        offset: offset,\n        type: \"allList\",\n        setShowModal: setShowModal,\n        setCarId: setCarId\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Modal, {\n      showModal: showModal,\n      setShowModal: setShowModal,\n      children: /*#__PURE__*/_jsxDEV(CarDetail, {\n        carId: carId,\n        showModal: showModal\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(MoreButton, {\n      isVisible: isVisible,\n      setOffset: setOffset,\n      children: \"\\uB354\\uBCF4\\uAE30\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 94,\n    columnNumber: 5\n  }, this);\n};\n\n_s(CarListPage, \"AVGndB23U4fr3pS1IXSZJg6m1mI=\");\n\n_c = CarListPage;\nexport default CarListPage;\n\nvar _c;\n\n$RefreshReg$(_c, \"CarListPage\");","map":{"version":3,"names":["useState","useEffect","useRef","axios","Products","CarDetail","Container","Top","Top2","Carousel","AllVehicles","Modal","MoreButton","handleOffset","handleCarouselInitSetting","handleCarouselWork","url","CarListPage","items","setItems","offset","setOffset","maxPage","setMaxPage","isVisible","setIsVisible","carouselRef","carouselCurrentPosition","setCarouselCurrentPosition","loop","setLoop","carouselSize","setCarouselSize","carouselWidth","setCarouselWidth","oneWidth","setOneWidth","showModal","setShowModal","carId","setCarId","loadItems","body","document","getElementsByTagName","style","overflow","res","get","data","Math","ceil","length","err","alert"],"sources":["/Users/donghyun/Desktop/lewns2/src/pages/CarListPage/CarListPage.jsx"],"sourcesContent":["import { useState, useEffect, useRef } from 'react';\nimport axios from 'axios';\nimport Products from './Products';\nimport CarDetail from './CarDetail';\n\nimport Container from '../../components/Container';\nimport Top from '../../components/Top';\nimport Top2 from '../../components/Top2';\nimport Carousel from '../../components/Carousel';\nimport AllVehicles from '../../components/AllVehicles';\nimport Modal from '../../components/Modal';\nimport MoreButton from '../../components/MoreButton';\n\nimport handleOffset from './MoreButton/handleOffset';\nimport handleCarouselInitSetting from './Carousel/handleCarouselInitSetting';\nimport handleCarouselWork from './Carousel/handleCarouselWork';\n\nconst url = `http://localhost:8080/carClasses`;\n\nconst CarListPage = () => {\n  const [items, setItems] = useState([]);\n  const [offset, setOffset] = useState(1);\n  const [maxPage, setMaxPage] = useState(0);\n  const [isVisible, setIsVisible] = useState(true);\n\n  /* 캐로셀 데이터 */\n  const carouselRef = useRef();\n  const [carouselCurrentPosition, setCarouselCurrentPosition] = useState();\n  const [loop, setLoop] = useState(0);\n  const [carouselSize, setCarouselSize] = useState();\n  const [carouselWidth, setCarouselWidth] = useState();\n  const [oneWidth, setOneWidth] = useState();\n\n  /* 모달 */\n  const [showModal, setShowModal] = useState(0);\n  const [carId, setCarId] = useState(0);\n\n  /* 페이지 렌더링 시, 최초 요청 */\n  useEffect(() => {\n    loadItems();\n  }, []);\n\n  /* 캐로셀 전체 길이, 한 상품의 길이, 초기 시작 위치 설정 */\n  useEffect(() => {\n    handleCarouselInitSetting(\n      setCarouselWidth,\n      carouselRef,\n      setOneWidth,\n      carouselWidth,\n      setCarouselCurrentPosition,\n      oneWidth,\n    );\n  }, [carouselWidth, carouselSize]);\n\n  /* 특가 차량 무한 캐로셀 로직 */\n  useEffect(() => {\n    handleCarouselWork(\n      carouselRef,\n      setCarouselCurrentPosition,\n      oneWidth,\n      carouselCurrentPosition,\n      carouselSize,\n      setLoop,\n      loop,\n    );\n  }, [carouselCurrentPosition]);\n\n  /* Dim 영역의 스크롤을 방지하기 위해 Body에 overflow 속성 변경 */\n  useEffect(() => {\n    const body = document.getElementsByTagName('body')[0];\n    if (showModal) {\n      body.style.overflow = 'hidden';\n    } else {\n      body.style = '';\n    }\n  }, [showModal]);\n\n  /* 모든 차량 조회 시, 더보기 버튼 숨기기 */\n  useEffect(() => {\n    handleOffset(offset, maxPage, setIsVisible);\n  }, [offset, maxPage]);\n\n  const loadItems = async () => {\n    try {\n      let res = await axios.get(url);\n      setItems(res.data);\n      setMaxPage(Math.ceil(res.data.length / 5));\n    } catch (err) {\n      alert(err);\n    }\n  };\n\n  return (\n    <Container>\n      <Top data-testid=\"page-title\">차량 리스트</Top>\n\n      {/* 차량 캐로셀 */}\n      <Top2>특가 차량</Top2>\n      <Carousel carouselRef={carouselRef}>\n        <Products\n          items={items}\n          offset={offset}\n          type=\"specialPriceList\"\n          oneWidth={oneWidth}\n          setCarouselSize={setCarouselSize}\n          carouselWidth={carouselWidth}\n        />\n      </Carousel>\n\n      {/* 차량 리스트 */}\n      <Top2>모든 차량</Top2>\n      <AllVehicles>\n        <Products\n          items={items}\n          offset={offset}\n          type=\"allList\"\n          setShowModal={setShowModal}\n          setCarId={setCarId}\n        />\n      </AllVehicles>\n\n      {/* 차량 상세 모달 */}\n      <Modal showModal={showModal} setShowModal={setShowModal}>\n        <CarDetail carId={carId} showModal={showModal} />\n      </Modal>\n\n      <MoreButton isVisible={isVisible} setOffset={setOffset}>\n        더보기\n      </MoreButton>\n    </Container>\n  );\n};\nexport default CarListPage;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}