{"ast":null,"code":"import _slicedToArray from\"/Users/donghyun/Desktop/lewns2/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useEffect,useRef}from'react';// 하위 컴포넌트\nimport CarProducts from'./CarProducts';import CarDetail from'./CarDetail';// 스타일 컴포넌트\nimport Container from'../../components/Container';import Top from'../../components/Top';import Top2 from'../../components/Top2';import Carousel from'../../components/Carousel';import AllVehicles from'../../components/AllVehicles';import Modal from'../../components/Modal';import MoreButton from'../../components/MoreButton';// 기능 함수\nimport handleOffset from'./CarList/MoreButton/handleOffset';import handleCarouselInitSetting from'./CarList/Carousel/handleCarouselInitSetting';import handleCarouselWork from'./CarList/Carousel/handleCarouselWork';import handlePreventScroll from'./CarList/Modal/handlePreventScroll';import loadCarList from'./CarList/loadCarList';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var CarListPage=function CarListPage(){/* 차량 리스트 데이터 */var _useState=useState([]),_useState2=_slicedToArray(_useState,2),items=_useState2[0],setItems=_useState2[1];var _useState3=useState(1),_useState4=_slicedToArray(_useState3,2),offset=_useState4[0],setOffset=_useState4[1];var _useState5=useState(0),_useState6=_slicedToArray(_useState5,2),maxPage=_useState6[0],setMaxPage=_useState6[1];var _useState7=useState(true),_useState8=_slicedToArray(_useState7,2),isVisible=_useState8[0],setIsVisible=_useState8[1];/* 캐로셀 데이터 */var carouselRef=useRef();var _useState9=useState(null),_useState10=_slicedToArray(_useState9,2),carouselCurrentPosition=_useState10[0],setCarouselCurrentPosition=_useState10[1];var _useState11=useState(0),_useState12=_slicedToArray(_useState11,2),loop=_useState12[0],setLoop=_useState12[1];var _useState13=useState(null),_useState14=_slicedToArray(_useState13,2),carouselSize=_useState14[0],setCarouselSize=_useState14[1];var _useState15=useState(null),_useState16=_slicedToArray(_useState15,2),carouselWidth=_useState16[0],setCarouselWidth=_useState16[1];var _useState17=useState(null),_useState18=_slicedToArray(_useState17,2),oneWidth=_useState18[0],setOneWidth=_useState18[1];/* 모달 데이터 */var _useState19=useState(0),_useState20=_slicedToArray(_useState19,2),showModal=_useState20[0],setShowModal=_useState20[1];var _useState21=useState(0),_useState22=_slicedToArray(_useState21,2),carId=_useState22[0],setCarId=_useState22[1];/* 차량 리스트 : 페이지 렌더링 시, 최초 요청 */useEffect(function(){loadCarList(setItems,setMaxPage);},[]);/* 캐로셀 : 캐로셀 전체 길이, 한 상품의 길이, 초기 시작 위치 설정 */useEffect(function(){handleCarouselInitSetting(carouselRef,setCarouselWidth,setOneWidth,setCarouselCurrentPosition);},[carouselWidth,carouselSize]);/* 캐로셀 : 특가 차량 무한 캐로셀 로직 */useEffect(function(){handleCarouselWork(carouselRef,carouselSize,carouselCurrentPosition,setCarouselCurrentPosition,loop,setLoop);},[carouselCurrentPosition,carouselSize]);/* 모달 : Dim 영역 스크롤 방지 */useEffect(function(){handlePreventScroll(showModal);},[showModal]);/* 더보기 버튼 : 보여줄 항목 길이 결정 */useEffect(function(){handleOffset(offset,maxPage,setIsVisible);},[offset,maxPage]);return/*#__PURE__*/_jsxs(Container,{children:[/*#__PURE__*/_jsx(Top,{\"data-testid\":\"page-title\",children:\"\\uCC28\\uB7C9 \\uB9AC\\uC2A4\\uD2B8\"}),/*#__PURE__*/_jsx(Top2,{children:\"\\uD2B9\\uAC00 \\uCC28\\uB7C9\"}),/*#__PURE__*/_jsx(Carousel,{carouselRef:carouselRef,children:/*#__PURE__*/_jsx(CarProducts,{items:items,offset:offset,type:\"specialPriceList\",oneWidth:oneWidth,setCarouselSize:setCarouselSize,carouselWidth:carouselWidth})}),/*#__PURE__*/_jsx(Top2,{children:\"\\uBAA8\\uB4E0 \\uCC28\\uB7C9\"}),/*#__PURE__*/_jsx(AllVehicles,{children:/*#__PURE__*/_jsx(CarProducts,{items:items,offset:offset,type:\"allList\",setShowModal:setShowModal,setCarId:setCarId})}),/*#__PURE__*/_jsx(Modal,{showModal:showModal,setShowModal:setShowModal,children:/*#__PURE__*/_jsx(CarDetail,{carId:carId,showModal:showModal})}),/*#__PURE__*/_jsx(MoreButton,{isVisible:isVisible,setOffset:setOffset,children:\"\\uB354\\uBCF4\\uAE30\"})]});};export default CarListPage;","map":{"version":3,"names":["useState","useEffect","useRef","CarProducts","CarDetail","Container","Top","Top2","Carousel","AllVehicles","Modal","MoreButton","handleOffset","handleCarouselInitSetting","handleCarouselWork","handlePreventScroll","loadCarList","CarListPage","items","setItems","offset","setOffset","maxPage","setMaxPage","isVisible","setIsVisible","carouselRef","carouselCurrentPosition","setCarouselCurrentPosition","loop","setLoop","carouselSize","setCarouselSize","carouselWidth","setCarouselWidth","oneWidth","setOneWidth","showModal","setShowModal","carId","setCarId"],"sources":["/Users/donghyun/Desktop/lewns2/src/pages/CarListPage/CarListPage.jsx"],"sourcesContent":["import { useState, useEffect, useRef } from 'react';\n\n// 하위 컴포넌트\nimport CarProducts from './CarProducts';\nimport CarDetail from './CarDetail';\n\n// 스타일 컴포넌트\nimport Container from '../../components/Container';\nimport Top from '../../components/Top';\nimport Top2 from '../../components/Top2';\nimport Carousel from '../../components/Carousel';\nimport AllVehicles from '../../components/AllVehicles';\nimport Modal from '../../components/Modal';\nimport MoreButton from '../../components/MoreButton';\n\n// 기능 함수\nimport handleOffset from './CarList/MoreButton/handleOffset';\nimport handleCarouselInitSetting from './CarList/Carousel/handleCarouselInitSetting';\nimport handleCarouselWork from './CarList/Carousel/handleCarouselWork';\nimport handlePreventScroll from './CarList/Modal/handlePreventScroll';\nimport loadCarList from './CarList/loadCarList';\n\nconst CarListPage = () => {\n  /* 차량 리스트 데이터 */\n  const [items, setItems] = useState([]);\n  const [offset, setOffset] = useState(1);\n  const [maxPage, setMaxPage] = useState(0);\n  const [isVisible, setIsVisible] = useState(true);\n\n  /* 캐로셀 데이터 */\n  const carouselRef = useRef();\n  const [carouselCurrentPosition, setCarouselCurrentPosition] = useState(null);\n  const [loop, setLoop] = useState(0);\n  const [carouselSize, setCarouselSize] = useState(null);\n  const [carouselWidth, setCarouselWidth] = useState(null);\n  const [oneWidth, setOneWidth] = useState(null);\n\n  /* 모달 데이터 */\n  const [showModal, setShowModal] = useState(0);\n  const [carId, setCarId] = useState(0);\n\n  /* 차량 리스트 : 페이지 렌더링 시, 최초 요청 */\n  useEffect(() => {\n    loadCarList(setItems, setMaxPage);\n  }, []);\n\n  /* 캐로셀 : 캐로셀 전체 길이, 한 상품의 길이, 초기 시작 위치 설정 */\n  useEffect(() => {\n    handleCarouselInitSetting(\n      carouselRef,\n      setCarouselWidth,\n      setOneWidth,\n      setCarouselCurrentPosition,\n    );\n  }, [carouselWidth, carouselSize]);\n\n  /* 캐로셀 : 특가 차량 무한 캐로셀 로직 */\n  useEffect(() => {\n    handleCarouselWork(\n      carouselRef,\n      carouselSize,\n      carouselCurrentPosition,\n      setCarouselCurrentPosition,\n      loop,\n      setLoop,\n    );\n  }, [carouselCurrentPosition, carouselSize]);\n\n  /* 모달 : Dim 영역 스크롤 방지 */\n  useEffect(() => {\n    handlePreventScroll(showModal);\n  }, [showModal]);\n\n  /* 더보기 버튼 : 보여줄 항목 길이 결정 */\n  useEffect(() => {\n    handleOffset(offset, maxPage, setIsVisible);\n  }, [offset, maxPage]);\n\n  return (\n    <Container>\n      <Top data-testid=\"page-title\">차량 리스트</Top>\n\n      {/* 차량 캐로셀 */}\n      <Top2>특가 차량</Top2>\n      <Carousel carouselRef={carouselRef}>\n        <CarProducts\n          items={items}\n          offset={offset}\n          type=\"specialPriceList\"\n          oneWidth={oneWidth}\n          setCarouselSize={setCarouselSize}\n          carouselWidth={carouselWidth}\n        />\n      </Carousel>\n\n      {/* 차량 리스트 */}\n      <Top2>모든 차량</Top2>\n      <AllVehicles>\n        <CarProducts\n          items={items}\n          offset={offset}\n          type=\"allList\"\n          setShowModal={setShowModal}\n          setCarId={setCarId}\n        />\n      </AllVehicles>\n\n      {/* 차량 상세 모달 */}\n      <Modal showModal={showModal} setShowModal={setShowModal}>\n        <CarDetail carId={carId} showModal={showModal} />\n      </Modal>\n\n      {/* 더보기 버튼 */}\n      <MoreButton isVisible={isVisible} setOffset={setOffset}>\n        더보기\n      </MoreButton>\n    </Container>\n  );\n};\nexport default CarListPage;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}